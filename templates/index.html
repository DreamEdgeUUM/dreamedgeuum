<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Parlimen Kubang Pasu Dashboard</title>
  <link rel="stylesheet" href="/static/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  
</head>
<body>
  <header>
    <h1>Parlimen Kubang Pasu (P.006)</h1>
    <div class="mp-info">
      <p><strong><span id="mpName">Loading MP...</span></strong> (<span id="mpParty">...</span>)</p>
      <p>Last Updated: <span id="lastUpdated">--</span></p>
    </div>
    
    <!-- MP Profile Button -->
    <div style="text-align: center; margin-top: 10px;">
      <button id="mpProfileBtn" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#mpProfileModal">MP Profile</button>
    </div>


  </header>

  <main>
    <section>
      <h2>Election Results</h2>
      <div class="chart-row" style="display: flex; flex-wrap: wrap; justify-content: space-around; align-items: flex-start;">
        <div style="flex: 1; text-align: center;">
          <h4>Election GE 14</h4>
          <canvas id="electionChart14" style="width: 100%; max-width: 600px; height: 300px;"></canvas>
        </div>
        <div style="flex: 1; text-align: center;">
          <h4>Election GE 15</h4>
          <canvas id="electionChart15" style="width: 100%; max-width: 600px; height: 300px;"></canvas>
        </div>
      </div>
      <div>
      </div>
      <div class="voter-boxes">
        <div class="voter-card">
          <h3>GE14</h3>
          <p><strong>Registered Voters:</strong> <span id="registeredVoters14"></span></p>
          <p><strong>Turnout:</strong> <span id="voterTurnout14"></span></p>
        </div>
        <div class="voter-card">
          <h3>GE15</h3>
          <p><strong>Registered Voters:</strong> <span id="registeredVoters15"></span></p>
          <p><strong>Turnout:</strong> <span id="voterTurnout15"></span></p>
        </div>
      </div>
    </section>
    <section>
      <h2>Detailed Election Statistics</h2>
      <div id="statsTableContainer" style="overflow-x:auto;">
        <table id="statsTable" style="width:100%; border-collapse: collapse; font-family: sans-serif; margin-top: 10px;">
          <thead>
            <tr style="background-color: #f4f4f4;">
              <th style="border: 1px solid #ccc; padding: 10px;">Statistic</th>
              <th style="border: 1px solid #ccc; padding: 10px;">GE14</th>
              <th style="border: 1px solid #ccc; padding: 10px;">GE15</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
    <section>
      <h2>Demographics of Kubang Pasu Voters</h2>
      <div class="chart-row" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem;">
        <div><h4>Gender</h4><canvas id="genderChart" style="max-width: 300px;"></canvas></div>
        <div><h4>Ethnicity</h4><canvas id="ethnicityChart" style="max-width: 300px;"></canvas></div>
        <div>
          <h4>Age</h4><canvas id="ageChart" style="max-width: 300px;"></canvas>
        </div>
      </div>
    </section>

    <section>
      <h2>Map</h2>
      <div id="map-container" style="height: 400px;"></div>
    </section>
  </main>

  <script src="/static/script.js"></script>

<!-- MP Profile Modal -->
 <div class="modal fade" id="mpProfileModal" tabindex="-1" aria-labelledby="mpProfileModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="mpProfileModalLabel">MP Profile</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div id="mpProfileContent">Loading...</div>
        </div>
      </div>
    </div>
  </div>


</body>
</html>
